<!DOCTYPE html>
<html>

    <head>
        <title>MobilPiactér</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="utf-8"> 
        <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
        <link href="lib/slider/css/slider.css" rel="stylesheet" media="screen">
        <link href="css/style.css" rel="stylesheet" media="screen">
    </head>

    <body>
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <a href="index.html" class="navbar-brand">MobilPiactér</a>
                </div>
                <div class="navbar-collapse collapse">
                    <div class="navbar-right navbar-form">
                        <a id="newadbtn" class="btn btn-default">Hirdetés feladása</a>
                        <a id="listbtn" href="list_view.html" class="btn btn-default">Listanézet</a>
                        <a id="regbtn" href="registration.html" class="btn btn-default">Regisztráció</a>
                        <a id="logbtn" href="signin.html" class="btn btn-default">Bejelentkezés</a>
                    </div>
                </div>
            </div>
        </div>
        <br/><br/><br/>

        <div class="container">
            <h2 class="text-center">Telefontípusok menedzselése</h2>
            <div class="row">
                <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                    <div class="text-center">
                        <div class="thumbnail admin-phone-list">
                            <h4 style="margin-top: 5px;">Telefonípusok</h4>
                            <ul data-bind="foreach: mobiles, visible: mobiles().length > 0">
                                <li><a data-bind="html: title" class="btn btn-default"></a></li>
                            </ul>


                            <a id="newtypebtn" class="btn btn-primary">Új telefontípus</a>
                        </div>	
                    </div>
                </div>
                <div id="phonetypeform" class="col-xs-8 col-sm-9 col-md-9 col-lg-9" style="display: none;">
                    <div class="form-horizontal">      
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Kép:</label>
                            <div class="col-sm-9">
                                <input type="file" name="file" id="file">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Típus neve:</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" required >
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Gyártó:</label>
                            <div class="col-sm-8">
                                <select data-bind="foreach: manufacturers, visible: manufacturers().length > 0" class="form-control">
                                    <option data-bind="html: manufacturer_name"></option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary" id="newmanufactureropen">+</button>
                        </div>
                        <div id="newmanufacturerbubble" class="thumbnail bubble" style="display: none;">
                            <div class="form-group">
                                <h3 style="margin-top: 10px; margin-left:15px;">Új gyártó hozzáadása</h3>
                                <label class="col-sm-3 control-label">Gyártó neve:</label> 
                                <div class="col-sm-4">
                                    <input id="newmanufacturername" type="text" class="form-control" required autofocus="">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-push-3 col-sm-4">
                                    <button id="newmanufacturersubnewmit" class="btn btn-primary">Mentés</button>
                                    <button class="btn btn-danger close-bubble">Mégse</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Operációs rendszer:</label>
                            <div class="col-sm-3">
                                <select id="osselect" data-bind="foreach: operationsystems, visible: operationsystems().length > 0" class="form-control">
                                    <option data-bind="html: os_name"></option>
                                </select>
                            </div>
                            <div class="col-sm-1">
                                <button type="submit" class="btn btn-primary" id="newosopen">+</button>
                            </div>

                            <div class="col-sm-4">
                                <select data-bind="foreach: osversions, visible: osversions().length > 0" class="form-control">
                                    <option data-bind="html: version_name"></option>
                                </select>
                            </div>
                            <div>
                                <button type="submit" class="btn btn-primary" id="newosversionopen">+</button>
                            </div>
                        </div>
                        <div id="newosbubble" class="thumbnail bubble" style="display: none;">
                            <div class="form-group">
                                <h3 style="margin-top: 10px; margin-left:15px;">Új operációs rendszer hozzáadása</h3>
                                <label class="col-sm-3 control-label">Operációs rendszer neve:</label> 
                                <div class="col-sm-4">
                                    <input id="newosname" type="text" class="form-control" required >
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-push-3 col-sm-4">
                                    <button id="newossubnewmit" class="btn btn-primary">Mentés</button>
                                    <button class="btn btn-danger close-bubble">Mégse</button>
                                </div>
                            </div>
                        </div>
                        <div id="newosversionbubble" class="thumbnail bubble" style="display: none;">
                            <h3 style="margin-top: 10px;">Új verzió hozzáadása</h3>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Operációs rendszer:</label> 
                                <div class="col-sm-3">
                                    <select id="osslideselect" data-bind="foreach: operationsystems, visible: operationsystems().length > 0" class="form-control">
                                        <option data-bind="html: os_name"></option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Verzió neve:</label> 
                                <div class="col-sm-4">
                                    <input id="newosversionname" type="text" class="form-control" required >
                                </div>
                                <div class="clearfix"></div> <br/>
                                <div class="col-sm-push-3 col-sm-4">
                                    <button id="newosversionsubnewmit" class="btn btn-primary">Mentés</button>
                                    <button class="btn btn-danger close-bubble">Mégse</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Processzor:</label>
                            <div class="col-sm-8">
                                <select data-bind="foreach: processors, visible: processors().length > 0" class="form-control">
                                    <option data-bind="html: chipset"></option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary" id="newprocessoropen">+</button>
                        </div>

                        <div id="newprocessorbubble" class="thumbnail bubble" style="display: none;">
                            <div class="form-group">
                                <h3 style="margin-top: 10px; margin-left:15px;">Új processzor hozzáadása</h3>
                                <label class="col-sm-3 control-label">Processzor család:</label> 
                                <div class="col-sm-4">
                                    <input id="newprocessorfamily" type="text" class="form-control" required >
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Processzor chipset:</label> 
                                <div class="col-sm-4">
                                    <input id="newprocessorchipset" type="text" class="form-control" required >
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Processzor órajel (Mhz):</label> 
                                <div class="col-sm-4">
                                    <input id="newprocessorclock" type="text" class="form-control" required >
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Processzormagok száma:</label> 
                                <div class="col-sm-4">
                                    <input id="newprocessornumberofcores" type="text" class="form-control" required >
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-push-3 col-sm-4">
                                    <button id="newprocessorsubnewmit" class="btn btn-primary">Mentés</button>
                                    <button class="btn btn-danger close-bubble">Mégse</button>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">Grafikus processzor:</label>
                            <div class="col-sm-8">
                                <select data-bind="foreach: gpus, visible: gpus().length > 0" class="form-control">
                                    <option data-bind="html: gpu_name"></option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary" id="newgpuopen">+</button>
                        </div>

                        <div id="newgpububble" class="thumbnail bubble" style="display: none;">
                            <div class="form-group">
                                <h3 style="margin-top: 10px; margin-left:15px;">Új GPU hozzáadása</h3>
                                <label class="col-sm-3 control-label">GPU neve:</label> 
                                <div class="col-sm-4">
                                    <input id="newgpuname" type="text" class="form-control" required >
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-push-3 col-sm-4">
                                    <button id="newgpusubnewmit" class="btn btn-primary">Mentés</button>
                                    <button class="btn btn-danger close-bubble">Mégse</button>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">Sim kártya típus:</label>
                            <div class="col-sm-8">
                                <select data-bind="foreach: sims, visible: sims().length > 0" class="form-control">
                                    <option data-bind="html: sim_type"></option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary" id="newsimopen">+</button>
                        </div>

                        <div id="newsimbubble" class="thumbnail bubble" style="display: none;">
                            <div class="form-group">
                                <h3 style="margin-top: 10px; margin-left:15px;">Új SIM típus hozzáadása</h3>
                                <label class="col-sm-3 control-label">Típus neve:</label> 
                                <div class="col-sm-4">
                                    <input id="newsimname" type="text" class="form-control" required >
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-push-3 col-sm-4">
                                    <button id="newsimsubnewmit" class="btn btn-primary">Mentés</button>
                                    <button class="btn btn-danger close-bubble">Mégse</button>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">microSD foglalat:</label>
                            <div class="col-sm-8">
                                <select class="form-control">
                                    <option>Van</option>
                                    <option>Nincs</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">RAM mérete (Mb):</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">ROM mérete (Gb):</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Felbontás:</label>
                            <div class="col-sm-3">
                                <input type="number" class="form-control" required >
                            </div>
                            <b class="col-sm-2 text-center" style="margin-top:5px;">
                                x
                            </b>
                            <div class="col-sm-3">
                                <input type="number" class="form-control" required >
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Képpontsűrűség:</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" required >
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Kijelző mérete:</label>
                            <div class="col-sm-8">
                                <input type="number" step="any" class="form-control" required >
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Kamera (Mpixel):</label>
                            <div class="col-sm-8">
                                <input type="number" step="any" class="form-control" required >
                            </div>
                        </div>
                        <div class="form-group text-center">
                            <button id="savetypebtn" type="submit" class="btn btn-primary">Adatlap mentése</button>
                            <button id="deletetypebtn" type="reset" class="btn btn-danger">Törlés</button>
                        </div>
                    </div>
                </div>
            </div>

            <hr>

            <footer>
                <p>&copy; DaniPeti 2013</p>
            </footer>
        </div>
        <!-- /container -->

        <script src="lib/jquery-2.0.3.min.js"></script>
        <script src="lib/jquery.cookie.js"></script>
        <script src="lib/knockout-3.0.0.js"></script>
        <script src="lib/bootstrap/js/bootstrap.min.js"></script>
        <script src="lib/slider/js/bootstrap-slider.js"></script>
        <script>
            var Mobile = function(data) {
                this.actual_price = ko.observable(data.actual_price);
                this.published = ko.observable(data.published);
                this.seller_user = ko.observable(data.seller_user);
                this.price = ko.observable(data.price);
                this.image_url = ko.observable(data.image_url);
                this.title = ko.computed(function() {
                    return data.manufacturer + " " + data.type_name;
                }, this);
                this.manufacturer = ko.observable(data.manufacturer);
                this.type_name = ko.observable(data.type_name);
                this.os = ko.computed(function() {
                    return data.os_name + " " + data.os_version;
                }, this);
                this.screen = ko.computed(function() {
                    return data.res_x + "x" + data.res_y + " (" + data.dpi + " dpi)";
                }, this);
                this.processor = ko.computed(function() {
                    return data.processor_clock + " Mhz (" + data.processor_number_of_cores + " mag)";
                }, this);
                this.ram = ko.computed(function() {
                    return data.ram + " MB RAM";
                }, this);
                this.rom = ko.computed(function() {
                    return data.rom + " GB Háttértár";
                }, this);
                this.rear_camera = ko.computed(function() {
                    return data.rear_camera + " Mpx kamera";
                }, this);
            };

            var Manufacturer = function(data) {
                this.id = ko.observable(data.id);
                this.manufacturer_name = ko.observable(data.manufacturer_name);
            };

            var Sim = function(data) {
                this.id = ko.observable(data.id);
                this.sim_type = ko.observable(data.sim_type);
            };

            var Gpu = function(data) {
                this.id = ko.observable(data.id);
                this.gpu_name = ko.observable(data.gpu_name);
            };

            var OperationSystem = function(data) {
                this.id = ko.observable(data.id);
                this.os_name = ko.observable(data.os_name);
            };

            var OsVersion = function(data) {
                this.id = ko.observable(data.id);
                this.version_name = ko.observable(data.version_name);
            };

            var Processor = function(data) {
                this.id = ko.observable(data.id);
                this.chipset = ko.observable(data.chipset);
            };

            function ViewModel() {
                // Data
                var self = this;
                self.mobiles = ko.observableArray([]);
                self.manufacturers = ko.observableArray([]);
                self.sims = ko.observableArray([]);
                self.gpus = ko.observableArray([]);
                self.operationsystems = ko.observableArray([]);
                self.osversions = ko.observableArray([]);
                self.processors = ko.observableArray([]);

                // Operations
                $.ajax({
                    url: "/mobilpiac-war/ListMobilesServlet",
                    type: "get",
                    dataType: "json"
                }).success(function(data) {
                    for (key in data.mobiles)
                    {
                        self.mobiles.push(new Mobile(data.mobiles[key]));
                    }
                });

                $.ajax({
                    url: "/mobilpiac-war/ListSimsServlet",
                    type: "get",
                    dataType: "json"
                }).success(function(data) {
                    for (key in data.sims)
                    {
                        self.sims.push(new Sim(data.sims[key]));
                    }
                });

                $.ajax({
                    url: "/mobilpiac-war/ListGpusServlet",
                    type: "get",
                    dataType: "json"
                }).success(function(data) {
                    for (key in data.gpus)
                    {
                        self.gpus.push(new Gpu(data.gpus[key]));
                    }
                });

                $.ajax({
                    url: "/mobilpiac-war/ListManufacturersServlet",
                    type: "get",
                    dataType: "json"
                }).success(function(data) {
                    for (key in data.manufacturers)
                    {
                        self.manufacturers.push(new Manufacturer(data.manufacturers[key]));
                    }
                });

                $.ajax({
                    url: "/mobilpiac-war/ListOperationSystemsServlet",
                    type: "get",
                    dataType: "json"
                }).success(function(data) {
                    for (key in data.operationsystems)
                    {
                        self.operationsystems.push(new OperationSystem(data.operationsystems[key]));
                    }
                });

                var os = {
                    operation_system: $("#osselect").val()
                };

                $.ajax({
                    url: "/mobilpiac-war/ListOsVersionsServlet",
                    type: "get",
                    dataType: "json",
                    data: {json: JSON.stringify(os)}
                }).success(function(data) {
                    self.osversions.removeAll();
                    for (key in data.osversions)
                    {
                        self.osversions.push(new OsVersion(data.osversions[key]));
                    }
                });

                $.ajax({
                    url: "/mobilpiac-war/ListProcessorsServlet",
                    type: "get",
                    dataType: "json"
                }).success(function(data) {
                    for (key in data.processors)
                    {
                        self.processors.push(new Processor(data.processors[key]));
                    }
                });
                //ezzel frissul a verziolista, alapbol az Androidot tolti be
                $("#osselect").change(function(event) {
                    var os = {
                        operation_system: $("#osselect").val()
                    };
                    $.ajax({
                        url: "/mobilpiac-war/ListOsVersionsServlet",
                        type: "get",
                        dataType: "json",
                        data: {json: JSON.stringify(os)}
                    }).success(function(data) {
                        self.osversions.removeAll();
                        for (key in data.osversions)
                        {
                            self.osversions.push(new OsVersion(data.osversions[key]));
                        }
                    });
                });




                $("#newossubnewmit").click(function(event) {
                    event.preventDefault();
                    if (!$("#newosname").val())
                    {
                        alert("A hozzáadandó operációs rendszer nevét nem adta meg.");
                    }
                    else
                    {
                        var os = {
                            os_name: $("#newosname").val()
                        };

                        $.ajax({
                            url: "/mobilpiac-war/AddOperationSystemServlet",
                            type: "get",
                            dataType: "json",
                            data: {json: JSON.stringify(os)}
                        }).success(function(data) {
                            alert(data.message);
                            if (data.result)
                            {
                                $.ajax({
                                    url: "/mobilpiac-war/ListOperationSystemsServlet",
                                    type: "get",
                                    dataType: "json"
                                }).success(function(data) {
                                    self.operationsystems.removeAll();
                                    for (key in data.operationsystems)
                                    {
                                        self.operationsystems.push(new OperationSystem(data.operationsystems[key]));
                                    }
                                });
                                $("#newosbubble").slideToggle();
                            }
                        });
                    }
                });

                $("#newmanufacturersubnewmit").click(function(event) {
                    event.preventDefault();
                    if (!$("#newmanufacturername").val())
                    {
                        alert("A hozzáadandó gyártó nevét nem adta meg.");
                    }
                    else
                    {
                        var manufacturer = {
                            manufacturer_name: $("#newmanufacturername").val()
                        };

                        $.ajax({
                            url: "/mobilpiac-war/AddManufacturerServlet",
                            type: "get",
                            dataType: "json",
                            data: {json: JSON.stringify(manufacturer)}
                        }).success(function(data) {
                            alert(data.message);
                            if (data.result)
                            {
                                $.ajax({
                                    url: "/mobilpiac-war/ListManufacturersServlet",
                                    type: "get",
                                    dataType: "json"
                                }).success(function(data) {
                                    self.manufacturers.removeAll();
                                    for (key in data.manufacturers)
                                    {
                                        self.manufacturers.push(new Manufacturer(data.manufacturers[key]));
                                    }
                                });
                                $("#newmanufacturerbubble").slideToggle();
                            }
                        });
                    }
                });

                $("#newosversionsubnewmit").click(function(event) {
                    event.preventDefault();
                    if (!$("#newosversionname").val())
                    {
                        alert("A hozzáadandó verzió nevét nem adta meg.");
                    }
                    else
                    {
                        var osversion = {
                            os_name: $("#osslideselect").val(),
                            os_version: $("#newosversionname").val()
                        };

                        $.ajax({
                            url: "/mobilpiac-war/AddOsVersionServlet",
                            type: "get",
                            dataType: "json",
                            data: {json: JSON.stringify(osversion)}
                        }).success(function(data) {
                            alert(data.message);
                            if (data.result)
                            {
                                $.ajax({
                                    url: "/mobilpiac-war/ListOsVersionsServlet",
                                    type: "get",
                                    dataType: "json"
                                }).success(function(data) {
                                    self.osversions.removeAll();
                                    for (key in data.osversions)
                                    {
                                        self.osversions.push(new OsVersion(data.osversions[key]));
                                    }
                                });
                                $("#newosversionbubble").slideToggle();
                            }
                        });
                    }
                });

                $("#newgpusubnewmit").click(function(event) {
                    event.preventDefault();
                    if (!$("#newgpuname").val())
                    {
                        alert("A hozzáadandó gpu nevét nem adta meg.");
                    }
                    else
                    {
                        var gpu = {
                            gpu_name: $("#newgpuname").val()
                        };

                        $.ajax({
                            url: "/mobilpiac-war/AddGpuServlet",
                            type: "get",
                            dataType: "json",
                            data: {json: JSON.stringify(gpu)}
                        }).success(function(data) {
                            alert(data.message);
                            if (data.result)
                            {
                                $.ajax({
                                    url: "/mobilpiac-war/ListGpusServlet",
                                    type: "get",
                                    dataType: "json"
                                }).success(function(data) {
                                    self.gpus.removeAll();
                                    for (key in data.gpus)
                                    {
                                        self.gpus.push(new Gpu(data.gpus[key]));
                                    }
                                });
                                $("#newgpububble").slideToggle();
                            }
                        });
                    }
                });

                $("#newsimsubnewmit").click(function(event) {
                    event.preventDefault();
                    if (!$("#newsimname").val())
                    {
                        alert("A hozzáadandó sim típus nevét nem adta meg.");
                    }
                    else
                    {
                        var sim = {
                            sim_type: $("#newsimname").val()
                        };

                        $.ajax({
                            url: "/mobilpiac-war/AddSimServlet",
                            type: "get",
                            dataType: "json",
                            data: {json: JSON.stringify(sim)}
                        }).success(function(data) {
                            alert(data.message);
                            if (data.result)
                            {
                                $.ajax({
                                    url: "/mobilpiac-war/ListSimsServlet",
                                    type: "get",
                                    dataType: "json"
                                }).success(function(data) {
                                    self.sims.removeAll();
                                    for (key in data.sims)
                                    {
                                        self.sims.push(new Sim(data.sims[key]));
                                    }
                                });
                                $("#newsimbubble").slideToggle();
                            }
                        });
                    }
                });

                $("#newprocessorsubnewmit").click(function(event) {
                    event.preventDefault();
                    if (!$("#newprocessorchipset").val() || !$("#newprocessorfamily").val() || !$("#newprocessorclock").val() || !$("#newprocessornumberofcores").val())
                    {
                        alert("Minden mezőt kötelező megadnia.");
                    }
                    else
                    {
                        var intRegex = /^\d+$/;
                        if (!intRegex.test($("#newprocessorclock").val()) || !intRegex.test($("#newprocessornumberofcores").val()))
                        {
                            alert("Az órajelnek és a magok számának egész számnak kell lennie.");
                        }
                        else
                        {
                            var processor = {
                                chipset: $("#newprocessorchipset").val(),
                                family: $("#newprocessorfamily").val(),
                                clock: $("#newprocessorclock").val(),
                                number_of_cores: $("#newprocessornumberofcores").val()
                            };

                            $.ajax({
                                url: "/mobilpiac-war/AddProcessorServlet",
                                type: "get",
                                dataType: "json",
                                data: {json: JSON.stringify(processor)}
                            }).success(function(data) {
                                alert(data.message);
                                if (data.result)
                                {
                                    $.ajax({
                                        url: "/mobilpiac-war/ListProcessorsServlet",
                                        type: "get",
                                        dataType: "json"
                                    }).success(function(data) {
                                        self.processors.removeAll();
                                        for (key in data.processors)
                                        {
                                            self.processors.push(new Processor(data.processors[key]));
                                        }
                                    });
                                    $("#newprocessorbubble").slideToggle();
                                }
                            });
                        }
                    }

                });





                $(".close-bubble").click(function() {
                    $(this).parents(".bubble").slideUp();
                });
                $("#newosopen").click(function()
                {
                    $("#newosversionbubble").slideUp();
                    $("#newgpububble").slideUp();
                    $("#newprocessorbubble").slideUp();
                    $("#newsimbubble").slideUp();
                    $("#newmanufacturerbubble").slideUp();
                    $("#newosbubble").slideToggle();
                });
                $("#newosversionopen").click(function() {
                    $("#newosbubble").slideUp();
                    $("#newgpububble").slideUp();
                    $("#newprocessorbubble").slideUp();
                    $("#newsimbubble").slideUp();
                    $("#newmanufacturerbubble").slideUp();
                    $("#newosversionbubble").slideToggle();
                });
                $("#newsimopen").click(function() {
                    $("#newosbubble").slideUp();
                    $("#newgpububble").slideUp();
                    $("#newprocessorbubble").slideUp();
                    $("#newosbubble").slideUp();
                    $("#newmanufacturerbubble").slideUp();
                    $("#newsimbubble").slideToggle();
                });
                $("#newprocessoropen").click(function() {
                    $("#newosbubble").slideUp();
                    $("#newgpububble").slideUp();
                    $("#newsimbubble").slideUp();
                    $("#newosversionbubble").slideUp();
                    $("#newmanufacturerbubble").slideUp();
                    $("#newprocessorbubble").slideToggle();
                });
                $("#newgpuopen").click(function() {
                    $("#newosbubble").slideUp();
                    $("#newsimbubble").slideUp();
                    $("#newprocessorbubble").slideUp();
                    $("#newosversionbubble").slideUp();
                    $("#newmanufacturerbubble").slideUp();
                    $("#newgpububble").slideToggle();
                });
                $("#newmanufactureropen").click(function() {
                    $("#newosbubble").slideUp();
                    $("#newsimbubble").slideUp();
                    $("#newgpububble").slideUp();
                    $("#newosversionbubble").slideUp();
                    $("#newprocessorbubble").slideUp();
                    $("#newmanufacturerbubble").slideToggle();
                });

                $("#newtypebtn").click(function() {
                    $("#phonetypeform").slideToggle();
                });

                $("#savetypebtn").click(function() {
                    $("#phonetypeform").slideUp();
                });

                $("#deletetypebtn").click(function() {
                    $("#phonetypeform").slideUp();
                });

            }

            ko.applyBindings(new ViewModel());
        </script>   
        <script>
            $("#logbtn").click(function(event) {
                if ($.cookie("login_name") !== undefined && $.cookie("password") !== undefined) {

                    var auth = {
                        login_name: $.cookie("login_name"),
                        password: $.cookie("password")
                    };
                    $.ajax({
                        url: "/mobilpiac-war/CheckUserServlet",
                        type: "get",
                        dataType: "json",
                        data: auth
                    }).success(function(data) {
                        if (data.result)
                        {
                            $.ajax({
                                url: "/mobilpiac-war/LogoutServlet",
                                type: "get",
                                dataType: "json"
                            }).success(function(data2) {
                                alert(data2.message);
                                //if (data2.result)
                                //{
                                document.location.href = "index.html";
                                //}
                            });
                        }
                        else
                        {
                            alert(data);
                        }
                    });
                }
                else
                {
                    document.location.href = "index.html";
                }
            });

            $("#newadbtn").click(function(event) {
                if ($.cookie("login_name") !== undefined && $.cookie("password") !== undefined) {
                    var auth = {
                        login_name: $.cookie("login_name"),
                        password: $.cookie("password")
                    };
                    $.ajax({
                        url: "/mobilpiac-war/CheckUserServlet",
                        type: "get",
                        dataType: "json",
                        data: auth
                    }).success(function(data) {
                        if (data.result)
                        {
                            document.location.href = "new_ad.html";
                        }
                        else
                        {
                            alert("Ehhez a funkcióhoz be kell jelentkeznie.");
                        }
                    });
                }
            });

        </script>
        <script>
            $(document).ready(function() {
                if ($.cookie("login_name") !== undefined && $.cookie("password") !== undefined) {

                    var auth = {
                        login_name: $.cookie("login_name"),
                        password: $.cookie("password")
                    };
                    $.ajax({
                        url: "/mobilpiac-war/CheckAdminServlet",
                        type: "get",
                        dataType: "json",
                        data: auth
                    }).success(function(data) {
                        if (data.result)
                        {
                            $("#logbtn").html("Kijelentkezés");
                            $("#logbtn").attr("href", "#");
                            $("#regbtn").hide();
                        }
                        else
                        {
                            alert("Ehhez a funkcióhoz be kell jelentkeznie.");
                            document.location.href = "index.html";
                        }
                    });
                }
                else
                {
                    alert("Ehhez a funkcióhoz be kell jelentkeznie.");
                    document.location.href = "index.html";
                }
            });
        </script>
    </body>

</html>